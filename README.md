```
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â•    â•šâ•â•   â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•
```

# ğŸ›°ï¸ RouteLens

ğŸ‡ºğŸ‡¸ [English](#english) | ğŸ‡¨ğŸ‡³ [ä¸­æ–‡æ–‡æ¡£](#ä¸­æ–‡)

[![Go Version](https://img.shields.io/badge/Go-1.24+-00ADD8?logo=go)](https://go.dev/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Build Status](https://img.shields.io/github/actions/workflow/status/yuanweize/RouteLens/release.yml?branch=master)](https://github.com/yuanweize/RouteLens/actions)

---

<a name="english"></a>

## Introduction

A modern, agentless network observability platform that traces paths, measures latency/loss/bandwidth, and visualizes routes end-to-end.

## âœ¨ Features

- ğŸŒ **Real-time Map**: ECharts + GeoIP path visualization.
- ğŸš€ **Multi-Mode Probing**: ICMP, HTTP Download, SSH Tunnel, Iperf3.
- ğŸ•µï¸ **Stealth Mode**: Agentless, low-noise probing for bandwidth.
- ğŸ“Š **Historical Metrics**: Time-series trend charts for latency and loss.
- ğŸ“¦ **Single Binary**: One file deployment with `service install`.

## ğŸ“¸ Screenshots

- ![Dashboard](docs/images/dashboard.png)
- ![Trace Map](docs/images/map.png)

## ğŸ›  Architecture

```mermaid
flowchart LR
  A[Prober (Go)] --> B[Go Channel]
  B --> C[(SQLite)]
  C --> D[API Server (Gin)]
  D --> E[Frontend (React + AntD)]
```

## ğŸš€ Quick Start

### Binary Install

```bash
wget https://github.com/yuanweize/RouteLens/releases/latest/download/routelens_linux
chmod +x routelens_linux
./routelens_linux service install --port 8080
```

Open `http://localhost:8080` â†’ `/setup` to initialize admin.

### Docker Compose

```yaml
version: '3.8'
services:
  routelens:
    image: yuanweize/routelens:latest
    container_name: routelens
    cap_add:
      - NET_RAW
    ports:
      - "8080:8080"
    volumes:
      - ./data:/data
    restart: unless-stopped
```

## âš™ï¸ Configuration

| Env | Description | Default |
| --- | --- | --- |
| RS_PORT | HTTP port (alias) | 8080 |
| RS_HTTP_PORT | HTTP bind address | :8080 |
| RS_DB_PATH | SQLite path | ./data/routelens.db |
| RS_JWT_SECRET | JWT secret | auto-generated |
| RS_GEOIP_PATH | GeoIP dir | empty |
| RS_GEOIP_CITY_DB | GeoIP City DB | empty |
| RS_GEOIP_ISP_DB | GeoIP ISP DB | empty |
| RS_PROBE_INTERVAL | Probe interval (seconds) | 30 |

## ğŸ“‚ Directory Structure

```
.
â”œâ”€â”€ cmd/          # Entrypoints
â”œâ”€â”€ internal/     # API, monitor, auth
â”œâ”€â”€ pkg/          # Prober, storage, geoip
â””â”€â”€ web/          # React frontend (Vite)
```

---

<a name="ä¸­æ–‡"></a>

## ç®€ä»‹

ä¸€æ¬¾ç°ä»£åŒ–ã€æ—  Agent çš„ç½‘ç»œé“¾è·¯è§‚æµ‹å¹³å°ï¼Œè¦†ç›–è·¯ç”±è¿½è¸ªã€å»¶è¿Ÿ/ä¸¢åŒ…/å¸¦å®½æµ‹é‡ï¼Œå¹¶æä¾›å¯è§†åŒ–åœ°å›¾ä¸å†å²è¶‹åŠ¿åˆ†æã€‚

## âœ¨ åŠŸèƒ½äº®ç‚¹

- ğŸŒ **å®æ—¶åœ°å›¾**ï¼šECharts + GeoIP å¯è§†åŒ–é“¾è·¯ã€‚
- ğŸš€ **å¤šæ¨¡å¼æ¢æµ‹**ï¼šICMPã€HTTP ä¸‹è½½ã€SSH éš§é“ã€Iperf3ã€‚
- ğŸ•µï¸ **éšè”½æµ‹é€Ÿ**ï¼šä½å™ªå£°ã€æ— ä¾µå…¥çš„å¸¦å®½æµ‹é‡ã€‚
- ğŸ“Š **å†å²è¶‹åŠ¿**ï¼šæ—¶åºæ•°æ®å±•ç¤ºå»¶è¿Ÿä¸ä¸¢åŒ…æ›²çº¿ã€‚
- ğŸ“¦ **å•æ–‡ä»¶äº¤ä»˜**ï¼šä¸€é”®å®‰è£…ç³»ç»ŸæœåŠ¡ã€‚

## ğŸ“¸ æˆªå›¾

- ![Dashboard](docs/images/dashboard.png)
- ![Trace Map](docs/images/map.png)

## ğŸ›  æ¶æ„å›¾

```mermaid
flowchart LR
  A[æ¢æµ‹å¼•æ“ (Go)] --> B[Go Channel]
  B --> C[(SQLite)]
  C --> D[API æœåŠ¡ (Gin)]
  D --> E[å‰ç«¯ (React + AntD)]
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### äºŒè¿›åˆ¶å®‰è£…

```bash
wget https://github.com/yuanweize/RouteLens/releases/latest/download/routelens_linux
chmod +x routelens_linux
./routelens_linux service install --port 8080
```

è®¿é—® `http://localhost:8080` â†’ `/setup` å®Œæˆåˆå§‹åŒ–ã€‚

### Docker Compose

```yaml
version: '3.8'
services:
  routelens:
    image: yuanweize/routelens:latest
    container_name: routelens
    cap_add:
      - NET_RAW
    ports:
      - "8080:8080"
    volumes:
      - ./data:/data
    restart: unless-stopped
```

## âš™ï¸ é…ç½®è¯´æ˜

| ç¯å¢ƒå˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ |
| --- | --- | --- |
| RS_PORT | HTTP ç«¯å£ï¼ˆåˆ«åï¼‰ | 8080 |
| RS_HTTP_PORT | ç›‘å¬åœ°å€ | :8080 |
| RS_DB_PATH | SQLite è·¯å¾„ | ./data/routelens.db |
| RS_JWT_SECRET | JWT å¯†é’¥ | è‡ªåŠ¨ç”Ÿæˆ |
| RS_GEOIP_PATH | GeoIP ç›®å½• | ç©º |
| RS_GEOIP_CITY_DB | GeoIP åŸå¸‚åº“ | ç©º |
| RS_GEOIP_ISP_DB | GeoIP ISP åº“ | ç©º |
| RS_PROBE_INTERVAL | æ¢æµ‹é—´éš”ï¼ˆç§’ï¼‰ | 30 |

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ cmd/          # å…¥å£
â”œâ”€â”€ internal/     # API / ç›‘æ§ / é‰´æƒ
â”œâ”€â”€ pkg/          # æ¢æµ‹ / å­˜å‚¨ / GeoIP
â””â”€â”€ web/          # å‰ç«¯ (Vite)
```

## License

MIT
